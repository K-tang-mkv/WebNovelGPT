CONTENT_GENERATOR_PROMPT = """
# 网文章节生成器
根据用户输入的网文粗纲和细纲，生成指定章节的详细章节内容（不少于{section_word_count}字），重点突出章节间的连贯性与内容展开的故事性和情绪性。

# 用户输入

## 指定章节
{designated_chapter}

## 网文粗纲
{rough_outline}

## 网文细纲
{detailed_outline}

## 已有章节
{chapters}
---
# 创作指南
每一章的连贯性和内容展开部分是核心必要的。
## 1. 连贯性（必要）
- 自然承接上章内容与情感节奏。
- 保证人物行为和情节逻辑前后一致。
- 利用伏笔和铺垫衔接当前章节与后续情节。

## 2. 内容展开（核心内容）
- 情感推进：按情绪曲线设计情感波动，确保自然流畅；可设置1-2个情感小高潮。
- 情节推进：情节设计需服务情感主题，同时保持适度张力；设置2-3个重要转折点。
- 细节描写：突出人物性格、情绪和心理变化；场景描写需烘托当前情感基调。

## 3. 高潮处理（视需要而定）
- 情感爆发
  前期铺垫充分展开
  情绪宣泄到位
  爽点设计精准
- 冲突呈现
  矛盾激化合理
  场面描写生动
  节奏把控精准

## 4. 开篇与结尾（视需要而定）
- 开篇：紧承上章内容，简要引入新情节或情感基调。
- 结尾：豹尾，简洁有力，通常不需要完成当前章节情感体验，但可视情况而留下适度悬念或期待感。

---

# 技术指导

## 1. 场景处理
- 场景选择
  契合情感需求
  有利于情节展开
  便于营造氛围
- 场景描写
  重点突出
  氛围渲染
  多感官体验

## 2. 人物刻画
- 对话设计
  反映情绪变化
  推动情节发展
  展现性格特点
- 心理描写
  细腻真实
  符合性格
  带入感强

## 3. 文字表达
- 总体风格
  符合情感基调
  保持节奏感
  画面感强
- 描写要求
  情感描写细腻
  动作描写简练
  环境描写点到为止

# 质量保障

## 1. 情感检验
- 情感表达是否充分
- 情绪递进是否自然
- 爽点设置是否到位
- 情感体验是否完整

## 2. 连贯性检验
- 与上下文是否连贯
- 人物形象是否统一
- 情节发展是否合理
- 伏笔照应是否到位

## 3. 体验检验
- 代入感是否强烈
- 节奏把控是否得当
- 高潮设计是否精彩
- 悬念设置是否合理

# 注意事项
1. 以情感体验为核心,所有写作要素为情感服务
2. 注重章节之间的连贯性,特别是情感的自然流转
3. 根据不同章节类型灵活调整写作策略
4. 确保每个章节都给读者完整的阅读体验
5. 情节设计要符合人物性格和情感逻辑
---
# 输出格式
## 第x章 章节名称
章节名称与细纲保持一致。

## 章节正文
生成完整且详细的正文内容，不少于{section_word_count}字，使用`##`标识章节名，不需要小标题，根据分卷细纲内容注意延续上下章节连贯性，聚焦内容展开与情感推进，保证章节完整性和故事吸引力。
"""

CONTENT_GENERATOR_PROMPT_V2 = """
# 网文章节生成器
基于人物和情绪为核心的章节创作系统，通过角色塑造、关系演变和情感发展来构建引人入胜的网文情节。本模板将指导创作不少于{section_word_count}字的精彩内容。

# 用户输入

## 指定章节
{designated_chapter}

## 网文粗纲
{rough_outline}

## 网文细纲
{detailed_outline}

## 已有章节
{chapters}
---
# 创作核心框架

## 1. 人物塑造（核心基础）
### 1.1 人物立体化
- 核心驱动力：明确当前章节中人物的根本诉求与动机
- 性格特质：突出能推动当前剧情的关键性格特点
- 行为逻辑：确保行动选择符合人物性格与处境
- 成长轨迹：把握人物在该章节的重要转变节点

### 1.2 人物视角
- 世界认知：展现人物对当前处境的独特理解
- 价值观：通过具体抉择反映人物的核心价值取向
- 情感体验：细致刻画人物的情绪变化与内心波动
- 思维方式：体现人物独特的思考和决策模式

## 2. 人物关系网络（核心动力）
### 2.1 关系动态
- 关系定位：明确章节中的核心人物关系
- 互动模式：设计能体现关系特点的互动场景
- 关系演变：通过细节展示关系的微妙变化
- 矛盾冲突：围绕关系设置合理的冲突点

### 2.2 关系影响
- 行为影响：人物关系如何影响各自的选择
- 情感触发：关系变化引发的情感波动
- 认知改变：关系互动带来的思维转变
- 命运交织：关系发展对人物命运的影响

## 3. 情感发展（核心呈现）
### 3.1 情感层次
- 表层情绪：通过外显行为展现直接情感
- 深层情感：揭示表象下的真实情感诉求
- 潜藏情绪：暗示未被察觉的情感倾向
- 情感冲突：处理多重情感的矛盾与碰撞

### 3.2 情感推进
- 情感铺垫：设置情感爆发的必要前提
- 情绪递进：把握情感强度的渐进变化
- 爆发节点：精心设计情感宣泄的关键时刻
- 余波效应：处理情感爆发后的影响与余韵

---
# 输出格式
生成完整的正文内容，确保细节丰富。使用##来标识每一章节的标题，避免使用小标题，确保章节标题与细纲内容一致。在撰写时，注意章节间的连贯性，深入展开内容，并推动人物关系和情感的发展。
## 第x章 章节名称
章节正文
"""
