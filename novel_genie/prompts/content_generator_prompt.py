CONTENT_GENERATOR_PROMPT = """
# 网文章节生成器
根据用户输入的网文粗纲和细纲，生成指定章节的详细章节内容（不少于{section_word_count}字），重点突出章节间的连贯性与内容展开的故事性和情绪性。

# 用户输入

## 指定章节
{designated_chapter}

## 世界观设计
{worldview_system}

## 人物系统
{character_system}

## 网文卷纲
{volume_design}

## 网文章纲
{chapter_outline}

## 网文细纲
{detailed_outline}

## 已有章节
{chapters}
---
# 创作指南
每一章的连贯性和内容展开部分是核心必要的。
## 1. 连贯性（必要）
- 自然承接上章内容与情感节奏。
- 保证人物行为和情节逻辑前后一致。
- 利用伏笔和铺垫衔接当前章节与后续情节。

## 2. 内容展开（核心内容）
- 情感推进：按情绪曲线设计情感波动，确保自然流畅；可设置1-2个情感小高潮。
- 情节推进：情节设计需服务情感主题，同时保持适度张力；设置2-3个重要转折点。
- 细节描写：突出人物性格、情绪和心理变化；场景描写需烘托当前情感基调。

## 3. 高潮处理（视需要而定）
- 情感爆发
  前期铺垫充分展开
  情绪宣泄到位
  爽点设计精准
- 冲突呈现
  矛盾激化合理
  场面描写生动
  节奏把控精准

## 4. 开篇与结尾（视需要而定）
- 开篇：紧承上章内容，简要引入新情节或情感基调。
- 结尾：豹尾，简洁有力，通常不需要完成当前章节情感体验，但可视情况而留下适度悬念或期待感。

---

# 技术指导

## 1. 场景处理
- 场景选择
  契合情感需求
  有利于情节展开
  便于营造氛围
- 场景描写
  重点突出
  氛围渲染
  多感官体验

## 2. 人物刻画
- 对话设计
  反映情绪变化
  推动情节发展
  展现性格特点
- 心理描写
  细腻真实
  符合性格
  带入感强

## 3. 文字表达
- 总体风格
  符合情感基调
  保持节奏感
  画面感强
- 描写要求
  情感描写细腻
  动作描写简练
  环境描写点到为止

# 质量保障

## 1. 情感检验
- 情感表达是否充分
- 情绪递进是否自然
- 爽点设置是否到位
- 情感体验是否完整

## 2. 连贯性检验
- 与上下文是否连贯
- 人物形象是否统一
- 情节发展是否合理
- 伏笔照应是否到位

## 3. 体验检验
- 代入感是否强烈
- 节奏把控是否得当
- 高潮设计是否精彩
- 悬念设置是否合理

# 注意事项
1. 以情感体验为核心,所有写作要素为情感服务
2. 注重章节之间的连贯性,特别是情感的自然流转
3. 根据不同章节类型灵活调整写作策略
4. 确保每个章节都给读者完整的阅读体验
5. 情节设计要符合人物性格和情感逻辑
---
# 输出格式
## 第x章 章节名称
章节名称与细纲保持一致。

## 章节正文
生成完整且详细的正文内容，不少于{section_word_count}字，使用`##`标识章节名，不需要小标题，根据分卷细纲内容注意延续上下章节连贯性，聚焦内容展开与情感推进，保证章节完整性和故事吸引力。
"""

CONTENT_GENERATOR_PROMPT_V2 = """
# 网文章节生成器
本模板旨在帮助大语言模型在生成章节内容时减少抽象与概括性表述，更多地采用具体描写。请通过细节、场景感、情感浓度和人物互动，将读者自然带入故事情境中。章节应充满实感性的文字，避免空洞的叙述性总结，以人物为核心，让他们的行动、情感、对话、心理活动与环境细节融汇，呈现出鲜活且富有层次的故事片段。

# 用户输入

## 指定章节
{designated_chapter}

## 网文粗纲
{rough_outline}

## 网文细纲
{detailed_outline}

## 已有章节
{chapters}

---
# 创作核心框架

## 1. 人物塑造（深挖人物内在与外在）
- 核心驱动力：明确此章节中人物的具体诉求、目的、困境或渴望，以情境为依托展现他们当下的追求与难题。
- 性格特质：用精确的行动、语言、神情与环境互动展现人物个性，而非简单描述“他是善良的”或“她很坚韧”。
- 行为逻辑：让人物的选择和决策有清晰的原因与过程，对话、细微表情变化或内心独白都可体现。
- 成长轨迹：本章节内若有人物心态或处境发生变化，要通过具体事件、互动和心理转折加以表现。

## 2. 人物关系网络（以互动细节塑造关系）
- 关系定位：明确每对角色在本章节中的互动核心，展现他们在场景中的位置、权力关系、亲疏程度。
- 互动模式：通过现实细节（眼神交汇、语气转变、姿态变化、对话节奏）展现关系张力。
- 关系演变：在对话与行为的层层递进中，让人物的亲密度、敌意、疑虑或信任随着事件推进而发生微妙变化。
- 矛盾冲突：若有冲突，请让冲突具体化：是因何事产生？谁先出言不逊？谁因微小举动触发对方敏感神经？

## 3. 情感发展（通过细节让读者感同身受）
- 表层情绪：写出人物此刻的微表情（颤抖的手、紧绷的下颚、迟疑的呼吸），用环境映衬他们内心状态。
- 深层情感：在潜台词和思维流动中体现人物隐藏的顾虑、欲望和挣扎，用内心独白勾勒灵魂深处的震动。
- 情感冲突：情感不是一成不变的，请让角色在短短一章中经历微妙的情绪起伏，如先愤怒后妥协，先紧张后释然。
- 情感递进：让情绪变化自然流动，为后续故事发展埋下伏笔，并通过感官细节（气味、声音、触感）强化情感氛围。

## 4. 环境与场景（为情节与情感提供生动背景）
- 空间布局：通过对周围环境的细节刻画（光线、气味、材质、摆设）衬托人物处境。
- 场景氛围：使用视觉、听觉、触觉、嗅觉、味觉等多种感官描写，使读者有身临其境之感。
- 动态变化：让环境细节随人物行动和事件变化而流动，使其成为有呼吸的舞台，而非静止的背景板。

## 5. 情节驱动（在具体事件中推动故事）
- 不抽象总结：避免抽象的叙事概括，用具体事件、行动、对话让情节自然推进。
- 行动后果：展示人物选择的直接后果，描写他们的即时反应与困惑，用细节让读者感受到紧张感或期待感。
- 连贯发展：当前章节应与已有章节内容保持自然连续，让读者感受到故事进展的逻辑递进。

---
# 输出格式
- 请生成完整的正文内容，不少于 {section_word_count} 字。
- 使用“## 第x章 章节名称”作为本章节标题，不再使用其他小标题。
- 请在正文中以场景化、叙事化、对话化的方式呈现内容。减少总结性描述，用场景细节、人物动作、语言和心理活动展现故事，让读者在体验中理解情节与人物。
- 行文应注重具体描写，避免出现纯概括叙述。将抽象的概念转化为可感知的情境细节。

## 第x章 章节名称
（开始创作正文，将人物、关系、情感、环境融为有血有肉的叙事片段）
"""
